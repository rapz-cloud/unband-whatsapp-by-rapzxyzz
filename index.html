<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unband WhatsApp By-RapzXyz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Semua kode CSS Anda yang asli tetap di sini */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #1e3a8a;
            --primary-dark: #1e40af;
            --secondary: #7f1d1d;
            --accent: #dc2626;
            --accent-purple: #9c27b0;
            --accent-orange: #ff9800;
            --accent-pink: #e91e63;
            --glass: rgba(0, 0, 0, 0.4);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --dark-bg: #0f0f0f;
        }
        
        /* ... (semua CSS Anda yang lain tetap sama) ... */
        
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .contact-buttons {
                flex-direction: column;
            }
            
            .fun-features {
                grid-template-columns: 1fr;
            }
            
            .bg-remover-preview {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Background Bintang -->
    <div class="stars" id="stars"></div>
    
    <!-- Efek Bintang Jatuh -->
    <div id="fallingStars"></div>
    
    <!-- Efek Petir -->
    <div id="lightningContainer"></div>
    
    <!-- Planet -->
    <div class="planet planet-1"></div>
    <div class="planet planet-2"></div>
    <div class="planet planet-3"></div>
    
    <!-- Notifikasi -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle" style="color: #25d366;"></i>
        <span id="notification-text">Pesan notifikasi</span>
    </div>
    
    <!-- Halaman Login -->
    <div id="loginPage" class="container">
        <div class="theme-toggle" id="themeToggle"></div>
        
        <div class="logo floating">
            <i class="fab fa-whatsapp"></i>
        </div>
        <h1>Unband WhatsApp By-RapzXyz</h1>
        
        <!-- Fitur Baru: Voice Intro -->
        <div class="voice-intro">
            <div class="feature-title">
                <i class="fas fa-volume-up"></i> Voice Intro
            </div>
            <div class="voice-controls">
                <button id="playVoiceBtn" class="voice-btn">
                    <i class="fas fa-play"></i> Putar
                </button>
                <button id="stopVoiceBtn" class="voice-btn">
                    <i class="fas fa-stop"></i> Stop
                </button>
            </div>
        </div>
        
        <div class="input-group">
            <label for="password"><i class="fas fa-key"></i> Masukkan Sandi:</label>
            <input type="password" id="password" placeholder="Ketik sandi di sini">
        </div>
        
        <button id="loginBtn" class="btn pulse">
            <i class="fas fa-sign-in-alt"></i> Masuk
        </button>
        
        <!-- Fitur Baru: Button TikTok dan WhatsApp Channel -->
        <div class="contact-buttons">
            <a href="https://tiktok.com/@style.fomo34" target="_blank" class="contact-btn tiktok">
                <i class="fab fa-tiktok"></i> TikTok
            </a>
            <a href="https://whatsapp.com/channel/0029Vb6GVqq3QxRt7sn7gE1o" target="_blank" class="contact-btn whatsapp">
                <i class="fab fa-whatsapp"></i> WhatsApp Channel
            </a>
        </div>
        
        <button id="joinGroupBtn" class="btn btn-secondary">
            <i class="fas fa-users"></i> Mau tau sandi nya? join grub ku sini
        </button>
        
        <div id="errorMsg" class="error">
            <i class="fas fa-exclamation-circle"></i> Sandi salah! Coba lagi.
        </div>
        
        <!-- Fitur Baru: Informasi Baterai -->
        <div class="battery-info">
            <div class="feature-title">
                <i class="fas fa-battery-half"></i> Status Baterai
            </div>
            <div class="battery-level" id="batteryLevel">Mengambil data...</div>
            <div class="battery-status" id="batteryStatus">-</div>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                <i class="fas fa-star"></i> Fitur Unggulan
            </div>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="feature-text">Aman & Terpercaya</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="feature-text">Proses Cepat</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="feature-text">Riwayat Permohonan</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="feature-text">Bantuan 24/7</div>
                </div>
            </div>
        </div>
        
        <!-- Fitur Baru: Statistik -->
        <div class="feature-section">
            <div class="feature-title">
                <i class="fas fa-chart-bar"></i> Statistik Layanan
            </div>
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-value">95%</div>
                    <div class="stat-label">Tingkat Keberhasilan</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">1.2K</div>
                    <div class="stat-label">Pengguna Terbantu</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">24/7</div>
                    <div class="stat-label">Layanan Aktif</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Halaman Utama -->
    <div id="mainPage" class="container" style="display: none;">
        <div class="theme-toggle" id="themeToggle2"></div>
        
        <div class="logo">
            <i class="fab fa-whatsapp"></i>
        </div>
        <h1>Unband WhatsApp By-RapzXyz</h1>
        
        <!-- Kontak Developer -->
        <div class="contact-buttons">
            <a href="https://wa.me/message/R7N6YBNDYYMHJ1" target="_blank" class="contact-btn whatsapp">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </a>
            <a href="t.me/rapzzxtamz" target="_blank" class="contact-btn telegram">
                <i class="fab fa-telegram"></i> Telegram
            </a>
            <a href="https://tiktok.com/@style.fomo34" target="_blank" class="contact-btn tiktok">
                <i class="fab fa-tiktok"></i> TikTok
            </a>
        </div>
        
        <div class="tab-container">
            <div class="tab active" data-tab="unband">Unband</div>
            <div class="tab" data-tab="history">Riwayat</div>
            <div class="tab" data-tab="fun">Fun</div>
            <div class="tab" data-tab="tools">Tools</div>
            <div class="tab" data-tab="bgremover">BG Remover</div>
        </div>
        
        <!-- Tab Unband -->
        <div id="unband-tab" class="tab-content active">
            <div class="options">
                <div class="option-group">
                    <div class="option-title">
                        <i class="fas fa-list-alt"></i> Sebut kan opsi kenon wa mu:
                    </div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="option" value="permanen">
                            1. Permanen
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="option" value="spam">
                            2. Spam
                        </label>
                    </div>
                </div>
                
                <!-- Fitur Baru: Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text">
                        <span>Mulai</span>
                        <span>Selesai</span>
                    </div>
                </div>
                
                <div class="status-indicator">
                    <div class="status-step active">1</div>
                    <div class="status-step">2</div>
                    <div class="status-step">3</div>
                    <div class="status-label">Pilih Opsi</div>
                    <div class="status-label" style="left: 35%;">Verifikasi</div>
                    <div class="status-label" style="left: 70%;">Selesai</div>
                </div>
                
                <button id="sendEmailBtn" class="btn">
                    <i class="fas fa-paper-plane"></i> Kirim Permohonan
                </button>
                <div id="successMsg" class="success">
                    <i class="fas fa-check-circle"></i> Permohonan berhasil dikirim!
                </div>
            </div>
        </div>
        
        <!-- Tab Riwayat -->
        <div id="history-tab" class="tab-content">
            <div class="option-title">
                <i class="fas fa-history"></i> Riwayat Permohonan
            </div>
            <div class="history-list">
                <div class="history-item">
                    <div class="history-date">15 Juli 2023 - 10:30</div>
                    <div class="history-status status-pending">
                        <i class="fas fa-clock"></i> Menunggu verifikasi
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-date">10 Juli 2023 - 14:22</div>
                    <div class="history-status status-success">
                        <i class="fas fa-check-circle"></i> Berhasil di-unband
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-date">5 Juli 2023 - 09:15</div>
                    <div class="history-status status-failed">
                        <i class="fas fa-times-circle"></i> Ditolak - data tidak lengkap
                    </div>
                </div>
            </div>
            
            <!-- Fitur Baru: Tombol Ekspor Riwayat -->
            <button id="exportHistoryBtn" class="btn btn-purple" style="margin-top: 15px;">
                <i class="fas fa-download"></i> Ekspor Riwayat
            </button>
        </div>
        
        <!-- Tab Fun Baru -->
        <div id="fun-tab" class="tab-content">
            <div class="option-title">
                <i class="fas fa-gamepad"></i> Fitur Seru
            </div>
            
            <!-- Kata-kata Random -->
            <div class="quote-container">
                <div class="quote-text" id="quoteText">
                    Klik tombol di bawah untuk mendapatkan kata-kata inspiratif!
                </div>
                <div class="quote-genre" id="quoteGenre">
                    Genre: -
                </div>
                <button id="generateQuoteBtn" class="btn btn-blue">
                    <i class="fas fa-quote-right"></i> Dapatkan Kata-kata
                </button>
            </div>
            
            <!-- Fitur Fun Lainnya -->
            <div class="fun-features">
                <button class="fun-btn" id="jokeBtn">
                    <div class="fun-icon">üòÇ</div>
                    <div>Lelucon</div>
                </button>
                <button class="fun-btn" id="factBtn">
                    <div class="fun-icon">üß†</div>
                    <div>Fakta Unik</div>
                </button>
                <button class="fun-btn" id="memeBtn">
                    <div class="fun-icon">üñºÔ∏è</div>
                    <div>Generator Meme</div>
                </button>
                <button class="fun-btn" id="gameBtn">
                    <div class="fun-icon">üéÆ</div>
                    <div>Mini Game</div>
                </button>
            </div>
        </div>
        
        <!-- Tab Tools -->
        <div id="tools-tab" class="tab-content">
            <div class="option-title">
                <i class="fas fa-tools"></i> Alat Bantu Tambahan
            </div>
            
            <div class="feature-grid" style="margin-bottom: 20px;">
                <div class="feature-item" id="backupBtn">
                    <div class="feature-icon">
                        <i class="fas fa-save"></i>
                    </div>
                    <div class="feature-text">Backup Data</div>
                </div>
                <div class="feature-item" id="restoreBtn">
                    <div class="feature-icon">
                        <i class="fas fa-undo"></i>
                    </div>
                    <div class="feature-text">Restore Data</div>
                </div>
                <div class="feature-item" id="checkStatusBtn">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="feature-text">Cek Status</div>
                </div>
                <div class="feature-item" id="clearCacheBtn">
                    <div class="feature-icon">
                        <i class="fas fa-broom"></i>
                    </div>
                    <div class="feature-text">Bersihkan Cache</div>
                </div>
            </div>
            
            <div class="option-group">
                <div class="option-title">
                    <i class="fas fa-cog"></i> Pengaturan
                </div>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="checkbox" id="autoSave">
                        Simpan otomatis
                    </label>
                    <label class="radio-option">
                        <input type="checkbox" id="notifications" checked>
                        Notifikasi
                    </label>
                    <label class="radio-option">
                        <input type="checkbox" id="darkMode">
                        Mode Gelap
                    </label>
                </div>
            </div>
            
            <button class="btn btn-orange" style="margin-top: 15px;">
                <i class="fas fa-sync"></i> Perbarui Aplikasi
            </button>
        </div>
        
        <!-- Tab Penghapus Background -->
        <div id="bgremover-tab" class="tab-content">
            <div class="background-remover">
                <div class="bg-remover-title">
                    <i class="fas fa-image"></i> Penghapus Background
                </div>
                
                <div class="bg-remover-container">
                    <div class="input-group">
                        <label for="bgImageUpload"><i class="fas fa-upload"></i> Unggah Gambar:</label>
                        <input type="file" id="bgImageUpload" accept="image/*">
                    </div>
                    
                    <div class="bg-remover-preview">
                        <div class="bg-remover-canvas-container">
                            <canvas id="originalCanvas" class="bg-remover-canvas"></canvas>
                        </div>
                        <div class="bg-remover-canvas-container">
                            <canvas id="processedCanvas" class="bg-remover-canvas"></canvas>
                        </div>
                    </div>
                    
                    <div class="bg-remover-controls">
                        <button id="removeBgBtn" class="bg-remover-btn primary" disabled>
                            <i class="fas fa-magic"></i> Hapus Background
                        </button>
                        <button id="downloadBgBtn" class="bg-remover-btn" disabled>
                            <i class="fas fa-download"></i> Unduh Hasil
                        </button>
                        <button id="resetBgBtn" class="bg-remover-btn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                    
                    <div class="progress-container" style="display: none;" id="bgRemoverProgress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="bgRemoverProgressFill"></div>
                        </div>
                        <div class="progress-text">
                            <span>Memproses...</span>
                            <span id="bgRemoverProgressText">0%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Elemen DOM
        const loginPage = document.getElementById('loginPage');
        const mainPage = document.getElementById('mainPage');
        const passwordInput = document.getElementById('password');
        const loginBtn = document.getElementById('loginBtn');
        const joinGroupBtn = document.getElementById('joinGroupBtn');
        const errorMsg = document.getElementById('errorMsg');
        const sendEmailBtn = document.getElementById('sendEmailBtn');
        const successMsg = document.getElementById('successMsg');
        const options = document.querySelector('.options');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const progressFill = document.getElementById('progressFill');
        const themeToggles = document.querySelectorAll('.theme-toggle');
        const exportHistoryBtn = document.getElementById('exportHistoryBtn');
        const backupBtn = document.getElementById('backupBtn');
        const restoreBtn = document.getElementById('restoreBtn');
        const checkStatusBtn = document.getElementById('checkStatusBtn');
        const clearCacheBtn = document.getElementById('clearCacheBtn');
        const lightningContainer = document.getElementById('lightningContainer');
        
        // Elemen untuk fitur baru
        const playVoiceBtn = document.getElementById('playVoiceBtn');
        const stopVoiceBtn = document.getElementById('stopVoiceBtn');
        const batteryLevel = document.getElementById('batteryLevel');
        const batteryStatus = document.getElementById('batteryStatus');
        
        // Elemen untuk fitur fun
        const generateQuoteBtn = document.getElementById('generateQuoteBtn');
        const quoteText = document.getElementById('quoteText');
        const quoteGenre = document.getElementById('quoteGenre');
        const jokeBtn = document.getElementById('jokeBtn');
        const factBtn = document.getElementById('factBtn');
        const memeBtn = document.getElementById('memeBtn');
        const gameBtn = document.getElementById('gameBtn');
        
        // Elemen untuk penghapus background
        const bgImageUpload = document.getElementById('bgImageUpload');
        const originalCanvas = document.getElementById('originalCanvas');
        const processedCanvas = document.getElementById('processedCanvas');
        const removeBgBtn = document.getElementById('removeBgBtn');
        const downloadBgBtn = document.getElementById('downloadBgBtn');
        const resetBgBtn = document.getElementById('resetBgBtn');
        const bgRemoverProgress = document.getElementById('bgRemoverProgress');
        const bgRemoverProgressFill = document.getElementById('bgRemoverProgressFill');
        const bgRemoverProgressText = document.getElementById('bgRemoverProgressText');
        
        // Konteks canvas
        const originalCtx = originalCanvas.getContext('2d');
        const processedCtx = processedCanvas.getContext('2d');
        
        // Sandi yang benar (banyak sandi)
        const correctPasswords = [
            "RapzXyz-Novalia",
            "UnbandWa2024",
            "RapzDeveloper",
            "WhatsAppTools",
            "BebaskanAkunWa"
        ];
        
        // Database kata-kata random
        const quotes = {
            cinta: [
                "Cinta itu seperti angin, kau tidak bisa melihatnya tetapi bisa merasakannya.",
                "Di balik setiap kesuksesan pria, ada wanita yang mendukungnya. Di balik kesuksesan wanita, ada pria yang membuatnya kuat.",
                "Cinta sejati tidak butuh penjelasan, tapi butuh bukti.",
                "Cinta itu bukan tentang memiliki, tapi tentang memberi.",
                "Cinta yang tulus tidak membutuhkan alasan, ia datang dari hati yang ikhlas."
            ],
            sindiran: [
                "Kadang lebih baik diam daripada bicara, karena diam adalah jawaban yang paling elegan untuk orang yang sombong.",
                "Jangan terlalu bangga dengan apa yang kamu punya, karena suatu saat kamu akan sadar bahwa itu semua hanya titipan.",
                "Orang yang sok tahu biasanya tidak tahu apa-apa.",
                "Jangan menilai buku dari covernya, tapi jangan juga menilai orang dari penampilannya.",
                "Kesombongan adalah beban terberat yang harus ditanggung oleh orang yang lemah."
            ],
            lelucon: [
                "Kenapa komputer tidak bisa makan? Karena dia sudah kenyang dengan byte!",
                "Apa bedanya hantu sama tukang bakso? Kalau hantu 'huuuuuntuuu', kalau tukang bakso 'baaaaksoooo'!",
                "Kenapa ayam menyebrang jalan? Untuk sampai ke seberang!",
                "Guru: 'Ani, sebutkan 5 hewan yang hidup di kutub utara!' Ani: '4 penguin dan 1 beruang kutub, Bu!' Guru: 'Tapi penguin hidup di kutub selatan!' Ani: 'Ya sudah, 5 beruang kutub saja, Bu!'",
                "Kenapa dinosaurus punah? Karena tidak ada yang mengajarkan mereka cara bertahan hidup!"
            ],
            motivasi: [
                "Jangan menyerah, mimpi tidak akan pernah mengecewakanmu jika kau tidak mengecewakan mimpimu.",
                "Kegagalan adalah kesempatan untuk memulai lagi dengan lebih cerdas.",
                "Sukses bukan tentang seberapa besar pencapaianmu, tapi tentang seberapa besar kamu bangkit setelah jatuh.",
                "Jangan takut gagal, takutlah jika tidak pernah mencoba.",
                "Hidup ini seperti naik sepeda, untuk menjaga keseimbangan, kamu harus terus bergerak."
            ],
            bijak: [
                "Lebih baik diam dan dianggap bodoh, daripada berbicara dan menghilangkan keraguan.",
                "Hidup ini terlalu singkat untuk membenci orang lain. Maafkan dan lupakan.",
                "Kebahagiaan bukanlah tujuan, melainkan perjalanan. Nikmati setiap langkahnya.",
                "Jangan menunggu kesempatan, ciptakanlah.",
                "Kesederhanaan adalah kunci kebahagiaan sejati."
            ]
        };
        
        // Database lelucon
        const jokes = [
            "Kenapa matematika itu seperti laut? Karena sama-sama berisi angka (ikan)!",
            "Apa yang dilakukan programmer ketika mati lampu? Ia menunggu hidup lagi!",
            "Kenapa programmer tidak bisa menjadi dokter? Karena mereka hanya bisa mengobati bug, bukan manusia!",
            "Apa bahasa pemrograman favorit hantu? Boo-lang!",
            "Kenapa JavaScript dan Java tidak akur? Karena mereka sama-sama tidak suka dihubung-hubungkan!"
        ];
        
        // Database fakta unik
        const facts = [
            "Lebah dapat mengenali wajah manusia!",
            "Pohon pisang sebenarnya adalah tanaman herba terbesar di dunia, bukan pohon.",
            "Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly good to eat.",
            "The shortest war in history was between Britain and Zanzibar on August 27, 1896. Zanzibar surrendered after 38 minutes.",
            "Octopuses have three hearts."
        ];
        
        // Teks email untuk masing-masing opsi
        const emailTexts = {
            permanen: "–ü—Ä–∏–≤–µ—Ç, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–µ—Ç–∞-–∞–π, WhatsApp / –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –º–µ—Ç–∞-–∞–π, —Å —É–≤–∞–∂–µ–Ω–∏–µ–º. –Ø —Ö–æ—á—É –ø–æ–¥–∞—Ç—å –∞–ø–µ–ª–ª—è—Ü–∏—é –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –º–æ–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. [+62no lu@meta.whatsapp.com] –ù–æ–º–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Å 2018 –≥–æ–¥–∞, –Ω–æ —è —Ö–æ—á—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WhatsApp –¥–ª—è —Å–≤—è–∑–∏. –Ø –ø—Ä–æ—á–∏—Ç–∞–ª —Å—Ç–∞—Ç—å—é/—Å–ª—É–∂–±—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—É—é —Å–ª—É–∂–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WhatsApp [https://faq.whatsapp.com/general/23154266]. –ü–æ—ç—Ç–æ–º—É —è –ø–æ–ø—Ä–æ—Å–∏–ª WhatsApp –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ—é —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å, –ø–æ—Å–∫–æ–ª—å–∫—É —è –Ω–µ –Ω–∞—Ä—É—à–∞–ª –ø—Ä–∞–≤–∏–ª–∞ WhatsApp –∏ —Å–æ–±–ª—é–¥–∞–ª –∏—Ö. –ù–∞–¥–µ—é—Å—å, –≤—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ —è —Å–∫–∞–∑–∞–ª. –ù–∞–¥–µ—é—Å—å, –≤—ã –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç–µ –º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –°–ø–∞—Å–∏–±–æ. –° —É–≤–∞–∂–µ–Ω–∏–µ–º, [—Å–ø–∞—Å–∏–±–æ]",
            spam: "Akun whatsapp saya secara tiba-tiba diblokir karena spam, walaupun saya telah mematuhi ketentuan layanan di whatsapp, mohon tinjau akun saya dan segera selesaikan masalah ini, Terima kasih. Ini nomor saya : [+62 xxnomor lu]"
        };
        
        // Konfigurasi Telegram Bot
        const TELEGRAM_BOT_TOKEN = "8024500747:AAFvoMNFoP2r5Mcj0vN4_6VQDDCmWZ9t854";
        const TELEGRAM_CHAT_ID = "8136310152";
        
        // Variabel untuk melacak sesi login
        let activeSessions = {};
        let currentSessionId = null;
        
        // Variabel untuk penghapus background
        let originalImage = null;
        
        // Fungsi untuk membuat efek bintang jatuh
        function createFallingStars() {
            const fallingStarsContainer = document.getElementById('fallingStars');
            
            function createFallingStar() {
                const star = document.createElement('div');
                star.classList.add('falling-star');
                
                // Posisi awal acak
                const startX = Math.random() * 100;
                star.style.left = `${startX}%`;
                star.style.top = '-10px';
                
                // Ukuran acak
                const size = 1 + Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Warna acak
                const colors = ['#ffffff', '#1e3a8a', '#dc2626', '#9c27b0', '#ff9800'];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                star.style.backgroundColor = randomColor;
                star.style.boxShadow = `0 0 10px 2px ${randomColor}`;
                
                // Durasi animasi acak
                const duration = 1 + Math.random() * 3;
                star.style.animation = `fallingStar ${duration}s linear forwards`;
                
                // Tambahkan ke container
                fallingStarsContainer.appendChild(star);
                
                // Hapus setelah animasi selesai
                setTimeout(() => {
                    star.remove();
                }, duration * 1000);
            }
            
            // Buat bintang jatuh secara berkala
            setInterval(() => {
                if (Math.random() > 0.7) { // 30% kemungkinan muncul bintang jatuh
                    createFallingStar();
                }
            }, 1000);
        }
        
        // Fungsi untuk membuat efek petir
        function createLightning() {
            const lightning = document.createElement('div');
            lightning.classList.add('lightning');
            
            // Posisi acak
            const left = Math.random() * 100;
            lightning.style.left = `${left}%`;
            
            // Warna acak
            const colors = [
                'rgba(30, 58, 138, 0.8)',
                'rgba(220, 38, 38, 0.8)',
                'rgba(15, 15, 15, 0.8)'
            ];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            lightning.style.background = `linear-gradient(to bottom, ${randomColor}, transparent)`;
            
            // Tambahkan ke container
            lightningContainer.appendChild(lightning);
            
            // Animasi petir
            lightning.style.animation = `lightning ${0.5 + Math.random() * 1}s ease-in-out`;
            
            // Hapus setelah animasi selesai
            setTimeout(() => {
                lightning.remove();
            }, 2000);
        }
        
        // Fungsi untuk membuat efek petir secara berkala
        function startLightningEffect() {
            // Buat petir pertama setelah delay acak
            setTimeout(() => {
                createLightning();
                // Set interval untuk petir berikutnya
                setInterval(() => {
                    if (Math.random() > 0.3) { // 70% kemungkinan muncul petir
                        createLightning();
                    }
                }, 3000);
            }, Math.random() * 5000);
        }
        
        // Fungsi untuk mengumpulkan informasi pengguna
        async function collectUserInfo() {
            try {
                // Mendapatkan informasi IP
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const userIP = ipData.ip;
                
                // Mendapatkan informasi lokasi berdasarkan IP
                let locationInfo = "Tidak dapat mengambil informasi lokasi";
                try {
                    const locationResponse = await fetch(`https://ipapi.co/${userIP}/json/`);
                    const locationData = await locationResponse.json();
                    locationInfo = `${locationData.city}, ${locationData.region}, ${locationData.country_name}`;
                } catch (e) {
                    console.log("Tidak dapat mengambil info lokasi");
                }
                
                // Informasi browser dan perangkat
                const userAgent = navigator.userAgent;
                const platform = navigator.platform;
                const language = navigator.language;
                const screenResolution = `${screen.width}x${screen.height}`;
                const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const currentTime = new Date().toLocaleString('id-ID');
                
                // Informasi tambahan
                const cookiesEnabled = navigator.cookieEnabled;
                const javaEnabled = navigator.javaEnabled();
                const pdfEnabled = navigator.pdfViewerEnabled;
                
                return {
                    ip: userIP,
                    location: locationInfo,
                    userAgent: userAgent,
                    platform: platform,
                    language: language,
                    screenResolution: screenResolution,
                    timezone: timezone,
                    visitTime: currentTime,
                    cookiesEnabled: cookiesEnabled,
                    javaEnabled: javaEnabled,
                    pdfEnabled: pdfEnabled,
                    referrer: document.referrer || "Direct visit"
                };
            } catch (error) {
                console.error("Error collecting user info:", error);
                return {
                    ip: "Tidak dapat mengambil IP",
                    location: "Tidak dapat mengambil lokasi",
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    screenResolution: `${screen.width}x${screen.height}`,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    visitTime: new Date().toLocaleString('id-ID'),
                    cookiesEnabled: navigator.cookieEnabled,
                    javaEnabled: navigator.javaEnabled(),
                    pdfEnabled: navigator.pdfViewerEnabled,
                    referrer: document.referrer || "Direct visit"
                };
            }
        }
        
        // Fungsi untuk mengirim data ke Telegram
        async function sendToTelegram(userInfo) {
            const message = `
üîç *VISITOR TRACKER* - Unband WhatsApp By-RapzXyz

üì± *Informasi Perangkat:*
‚Ä¢ IP: ${userInfo.ip}
‚Ä¢ Lokasi: ${userInfo.location}
‚Ä¢ Platform: ${userInfo.platform}
‚Ä¢ Bahasa: ${userInfo.language}
‚Ä¢ Resolusi Layar: ${userInfo.screenResolution}
‚Ä¢ Timezone: ${userInfo.timezone}

üåê *Browser Info:*
‚Ä¢ User Agent: ${userInfo.userAgent}
‚Ä¢ Cookies: ${userInfo.cookiesEnabled ? 'Aktif' : 'Nonaktif'}
‚Ä¢ Java: ${userInfo.javaEnabled ? 'Aktif' : 'Nonaktif'}
‚Ä¢ PDF Viewer: ${userInfo.pdfEnabled ? 'Aktif' : 'Nonaktif'}

üìä *Data Kunjungan:*
‚Ä¢ Waktu: ${userInfo.visitTime}
‚Ä¢ Referrer: ${userInfo.referrer}

‚ö†Ô∏è *Dikumpulkan otomatis oleh sistem*
            `;
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
                
                if (response.ok) {
                    console.log('Data berhasil dikirim ke Telegram');
                } else {
                    console.error('Gagal mengirim data ke Telegram');
                }
            } catch (error) {
                console.error('Error sending to Telegram:', error);
            }
        }
        
        // Fungsi untuk membuat bintang
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 150;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Ukuran acak
                const size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Posisi acak
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // Durasi animasi acak
                star.style.setProperty('--duration', `${5 + Math.random() * 10}s`);
                
                starsContainer.appendChild(star);
            }
        }
        
        // Fungsi untuk menampilkan notifikasi
        function showNotification(message, type = 'success') {
            notificationText.textContent = message;
            notification.className = 'notification';
            notification.classList.add('show');
            
            if (type === 'success') {
                notification.classList.add('notification-success');
            } else {
                notification.classList.add('notification-error');
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Fungsi untuk memperbarui progress bar
        function updateProgress(percent) {
            progressFill.style.width = `${percent}%`;
        }
        
        // Fungsi untuk menghasilkan kata-kata random
        function generateRandomQuote() {
            const genres = Object.keys(quotes);
            const randomGenre = genres[Math.floor(Math.random() * genres.length)];
            const genreQuotes = quotes[randomGenre];
            const randomQuote = genreQuotes[Math.floor(Math.random() * genreQuotes.length)];
            
            quoteText.textContent = randomQuote;
            quoteGenre.textContent = `Genre: ${randomGenre.charAt(0).toUpperCase() + randomGenre.slice(1)}`;
        }
        
        // Fungsi untuk memutar voice intro
        function playVoiceIntro() {
            // Menggunakan Web Speech API untuk mensintesis suara
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance();
                utterance.text = "Selamat datang, jika belum bisa login silahkan ke contact developer atau admin aja ya";
                utterance.lang = 'id-ID';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                
                window.speechSynthesis.speak(utterance);
                showNotification('Memutar voice intro...', 'success');
            } else {
                showNotification('Browser tidak mendukung fitur voice intro', 'error');
            }
        }
        
        // Fungsi untuk menghentikan voice intro
        function stopVoiceIntro() {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                showNotification('Voice intro dihentikan', 'success');
            }
        }
        
        // Fungsi untuk memeriksa status baterai
        function checkBatteryStatus() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    updateBatteryInfo(battery);
                    
                    battery.addEventListener('levelchange', function() {
                        updateBatteryInfo(battery);
                    });
                    
                    battery.addEventListener('chargingchange', function() {
                        updateBatteryInfo(battery);
                    });
                });
            } else {
                batteryLevel.textContent = 'Tidak tersedia';
                batteryStatus.textContent = 'Fitur baterai tidak didukung browser ini';
            }
        }
        
        // Fungsi untuk memperbarui informasi baterai
        function updateBatteryInfo(battery) {
            const level = Math.round(battery.level * 100);
            batteryLevel.textContent = `${level}%`;
            
            if (battery.charging) {
                batteryStatus.textContent = 'Sedang diisi';
            } else {
                if (level > 70) {
                    batteryStatus.textContent = 'Baterai penuh';
                } else if (level > 30) {
                    batteryStatus.textContent = 'Baterai sedang';
                } else {
                    batteryStatus.textContent = 'Baterai rendah';
                }
            }
        }
        
        // Fungsi untuk memeriksa sesi aktif
        function checkActiveSessions(password) {
            const now = Date.now();
            const sessionTimeout = 5 * 60 * 1000; // 5 menit
            
            // Hapus sesi yang sudah kadaluarsa
            for (const sessionId in activeSessions) {
                if (now - activeSessions[sessionId].timestamp > sessionTimeout) {
                    delete activeSessions[sessionId];
                }
            }
            
            // Periksa apakah sandi sedang digunakan di perangkat lain
            for (const sessionId in activeSessions) {
                if (activeSessions[sessionId].password === password && sessionId !== currentSessionId) {
                    return true; // Sandi sedang digunakan di perangkat lain
                }
            }
            
            return false; // Sandi tidak sedang digunakan di perangkat lain
        }
        
        // Fungsi untuk menghapus background gambar
        function removeBackground() {
            if (!originalImage) return;
            
            // Tampilkan progress bar
            bgRemoverProgress.style.display = 'block';
            bgRemoverProgressFill.style.width = '0%';
            bgRemoverProgressText.textContent = '0%';
            
            // Simulasi proses penghapusan background
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 5;
                bgRemoverProgressFill.style.width = `${progress}%`;
                bgRemoverProgressText.textContent = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    
                    // Set ukuran canvas hasil
                    processedCanvas.width = originalCanvas.width;
                    processedCanvas.height = originalCanvas.height;
                    
                    // Salin gambar ke canvas hasil
                    processedCtx.drawImage(originalImage, 0, 0, processedCanvas.width, processedCanvas.height);
                    
                    // Simulasi penghapusan background (dalam implementasi nyata, ini akan menggunakan algoritma yang lebih kompleks)
                    // Di sini kita hanya membuat background transparan untuk area tertentu
                    const imageData = processedCtx.getImageData(0, 0, processedCanvas.width, processedCanvas.height);
                    const data = imageData.data;
                    
                    // Algoritma sederhana untuk menghapus background berdasarkan warna
                    for (let i = 0; i < data.length; i += 4) {
                        const r = data[i];
                        const g = data[i + 1];
                        const b = data[i + 2];
                        
                        // Deteksi warna background (dalam contoh ini, kita asumsikan background adalah warna gelap)
                        // Dalam implementasi nyata, ini akan menggunakan algoritma yang lebih canggih
                        if (r < 50 && g < 50 && b < 50) {
                            data[i + 3] = 0; // Set alpha ke 0 (transparan)
                        }
                    }
                    
                    processedCtx.putImageData(imageData, 0, 0);
                    
                    // Aktifkan tombol unduh
                    downloadBgBtn.disabled = false;
                    
                    // Sembunyikan progress bar
                    setTimeout(() => {
                        bgRemoverProgress.style.display = 'none';
                    }, 500);
                    
                    showNotification('Background berhasil dihapus!', 'success');
                }
            }, 100);
        }
        
        // Fungsi untuk mengunduh gambar hasil
        function downloadProcessedImage() {
            if (!processedCanvas) return;
            
            const link = document.createElement('a');
            link.download = 'gambar-tanpa-background.png';
            link.href = processedCanvas.toDataURL('image/png');
            link.click();
            
            showNotification('Gambar berhasil diunduh!', 'success');
        }
        
        // Fungsi untuk mereset penghapus background
        function resetBackgroundRemover() {
            originalCtx.clearRect(0, 0, originalCanvas.width, originalCanvas.height);
            processedCtx.clearRect(0, 0, processedCanvas.width, processedCanvas.height);
            originalImage = null;
            removeBgBtn.disabled = true;
            downloadBgBtn.disabled = true;
            bgImageUpload.value = '';
            bgRemoverProgress.style.display = 'none';
            
            showNotification('Penghapus background direset', 'success');
        }
        
        // Fungsi untuk membuat ID sesi unik
        function generateSessionId() {
            return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }
        
        // Event listener untuk tombol login
        loginBtn.addEventListener('click', function() {
            const enteredPassword = passwordInput.value;
            
            if (correctPasswords.includes(enteredPassword)) {
                // Periksa apakah sandi sedang digunakan di perangkat lain
                if (checkActiveSessions(enteredPassword)) {
                    showNotification('Sandi sedang digunakan di perangkat lain!', 'error');
                    return;
                }
                
                // Buat sesi baru
                currentSessionId = generateSessionId();
                activeSessions[currentSessionId] = {
                    password: enteredPassword,
                    timestamp: Date.now()
                };
                
                // Password benar, pindah ke halaman utama
                loginPage.style.display = 'none';
                mainPage.style.display = 'block';
                options.style.display = 'block';
                showNotification('Login berhasil!', 'success');
            } else {
                // Password salah, tampilkan pesan error
                errorMsg.style.display = 'block';
                showNotification('Sandi salah! Coba lagi.', 'error');
                setTimeout(() => {
                    errorMsg.style.display = 'none';
                }, 3000);
            }
        });
        
        // Event listener untuk tombol join group
        joinGroupBtn.addEventListener('click', function() {
            window.open('https://chat.whatsapp.com/KjG7J6cDMW2KLCtYx0sLKP?mode=wwc', '_blank');
        });
        
        // Event listener untuk tombol kirim email
        sendEmailBtn.addEventListener('click', function() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            
            if (!selectedOption) {
                showNotification('Pilih opsi terlebih dahulu!', 'error');
                return;
            }
            
            // Update status indicator
            const statusSteps = document.querySelectorAll('.status-step');
            statusSteps[1].classList.add('active');
            updateProgress(50);
            
            // Simulasi loading
            sendEmailBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Mengirim...';
            sendEmailBtn.disabled = true;
            
            setTimeout(() => {
                const optionValue = selectedOption.value;
                const emailText = emailTexts[optionValue];
                const emailAddress = "support@support.whatsapp.com";
                const subject = "Permohonan Unband WhatsApp";
                
                // Membuka aplikasi email default dengan teks yang sudah disiapkan
                const mailtoLink = `mailto:${emailAddress}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(emailText)}`;
                window.location.href = mailtoLink;
                
                // Update status indicator
                statusSteps[2].classList.add('active');
                updateProgress(100);
                
                // Reset tombol
                sendEmailBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Kirim Permohonan';
                sendEmailBtn.disabled = false;
                
                // Tampilkan pesan sukses
                successMsg.style.display = 'block';
                showNotification('Permohonan berhasil dikirim!', 'success');
                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 5000);
            }, 2000);
        });
        
        // Event listener untuk tab
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Hapus kelas active dari semua tab dan konten
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                // Tambahkan kelas active ke tab yang diklik
                tab.classList.add('active');
                
                // Tampilkan konten yang sesuai
                const tabId = tab.getAttribute('data-tab') + '-tab';
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Event listener untuk tombol enter di input password
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                loginBtn.click();
            }
        });
        
        // Event listener untuk toggle tema
        themeToggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                this.classList.toggle('active');
                document.body.classList.toggle('dark-mode');
                showNotification('Tema diubah!', 'success');
            });
        });
        
        // Event listener untuk tombol ekspor riwayat
        exportHistoryBtn.addEventListener('click', function() {
            showNotification('Mengekspor riwayat...', 'success');
            // Simulasi ekspor
            setTimeout(() => {
                showNotification('Riwayat berhasil diekspor!', 'success');
            }, 1500);
        });
        
        // Event listener untuk tombol tools
        backupBtn.addEventListener('click', function() {
            showNotification('Memulai backup data...', 'success');
        });
        
        restoreBtn.addEventListener('click', function() {
            showNotification('Memulihkan data...', 'success');
        });
        
        checkStatusBtn.addEventListener('click', function() {
            showNotification('Memeriksa status...', 'success');
        });
        
        clearCacheBtn.addEventListener('click', function() {
            showNotification('Membersihkan cache...', 'success');
        });
        
        // Event listener untuk fitur fun
        generateQuoteBtn.addEventListener('click', generateRandomQuote);
        
        jokeBtn.addEventListener('click', function() {
            const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
            quoteText.textContent = randomJoke;
            quoteGenre.textContent = "Genre: Lelucon";
            showNotification('Lelucon acak ditampilkan!', 'success');
        });
        
        factBtn.addEventListener('click', function() {
            const randomFact = facts[Math.floor(Math.random() * facts.length)];
            quoteText.textContent = randomFact;
            quoteGenre.textContent = "Genre: Fakta Unik";
            showNotification('Fakta unik ditampilkan!', 'success');
        });
        
        memeBtn.addEventListener('click', function() {
            // Dalam implementasi nyata, ini akan menampilkan generator meme
            quoteText.textContent = "Fitur Generator Meme akan segera hadir! Stay tuned!";
            quoteGenre.textContent = "Genre: Info";
            showNotification('Generator meme akan datang!', 'success');
        });
        
        gameBtn.addEventListener('click', function() {
            // Dalam implementasi nyata, ini akan menampilkan mini game
            quoteText.textContent = "Fitur Mini Game akan segera hadir! Siap-siap untuk bersenang-senang!";
            quoteGenre.textContent = "Genre: Info";
            showNotification('Mini game akan datang!', 'success');
        });
        
        // Event listener untuk voice intro
        playVoiceBtn.addEventListener('click', playVoiceIntro);
        stopVoiceBtn.addEventListener('click', stopVoiceIntro);
        
        // Event listener untuk penghapus background
        bgImageUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                originalImage = new Image();
                originalImage.onload = function() {
                    // Set ukuran canvas asli
                    const maxWidth = 300;
                    const maxHeight = 200;
                    let width = originalImage.width;
                    let height = originalImage.height;
                    
                    if (width > maxWidth) {
                        height = (maxWidth / width) * height;
                        width = maxWidth;
                    }
                    
                    if (height > maxHeight) {
                        width = (maxHeight / height) * width;
                        height = maxHeight;
                    }
                    
                    originalCanvas.width = width;
                    originalCanvas.height = height;
                    
                    // Gambar di canvas asli
                    originalCtx.drawImage(originalImage, 0, 0, width, height);
                    
                    // Aktifkan tombol hapus background
                    removeBgBtn.disabled = false;
                    
                    showNotification('Gambar berhasil diunggah!', 'success');
                };
                originalImage.src = event.target.result;
            };
            reader.readAsDataURL(file);
        });
        
        removeBgBtn.addEventListener('click', removeBackground);
        downloadBgBtn.addEventListener('click', downloadProcessedImage);
        resetBgBtn.addEventListener('click', resetBackgroundRemover);
        
        // Animasi untuk elemen fitur
        const featureItems = document.querySelectorAll('.feature-item');
        featureItems.forEach((item, index) => {
            item.style.animationDelay = `${index * 0.1}s`;
        });
        
        // Inisialisasi dan jalankan tracker
        createStars();
        createFallingStars();
        startLightningEffect();
        updateProgress(0);
        
        // Periksa status baterai saat halaman dimuat
        checkBatteryStatus();
        
        // Putar voice intro otomatis saat halaman dimuat
        window.addEventListener('load', function() {
            setTimeout(playVoiceIntro, 1000);
            
            // Jalankan tracker
            setTimeout(async () => {
                const userInfo = await collectUserInfo();
                await sendToTelegram(userInfo);
            }, 2000);
        });
        
        // Perbarui sesi aktif secara berkala
        setInterval(() => {
            if (currentSessionId) {
                activeSessions[currentSessionId].timestamp = Date.now();
            }
        }, 60000); // Perbarui setiap menit
    </script>
</body>
</html>